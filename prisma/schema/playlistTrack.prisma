// Playlist tracks relationship (many to many)
model PlaylistTrack {
  id          String   @id @default(uuid())
  playlist_id String
  track_id    String
  position    Int
  added_by    String?
  added_at    DateTime @default(now())

  // Relations
  playlist Playlist @relation(fields: [playlist_id], references: [id], onDelete: Cascade)
  track    Track    @relation(fields: [track_id], references: [id], onDelete: Cascade)
  added_by_user User? @relation("AddedBy", fields: [added_by], references: [id], onDelete: SetNull)

  @@unique([playlist_id, position])
  @@map("playlist_tracks")
  @@index([playlist_id])
  @@index([track_id])
}